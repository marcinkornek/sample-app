// Generated by CoffeeScript 1.4.0

window.enableScrolling = function() {
  if ($('.pagination').length) {
    $(window).scroll(function() {
      var url;
      url = $('.pagination .next_page a').attr('href');
      if (url && $(window).scrollTop() > $(document).height() - $(window).height() - 250 && url !== '#') {
        $('.pagination').text("Fetching more users...");
        if (window.loadingUsers) {
          return;
        }
        console.log(url);
        window.loadingUsers = true;
        return $.getScript(url).done(function() {
          return window.loadingUsers = false;
        });
      }
    });
    return $(window).scroll;
  }
};

window.disableScrolling = function() {
  return $(window).off('scroll');
};

$(function() {
  return enableScrolling();
});
